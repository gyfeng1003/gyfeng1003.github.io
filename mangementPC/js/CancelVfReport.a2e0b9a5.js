(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CancelVfReport"],{"190d":function(e,t,a){},4350:function(e,t,a){},4560:function(e,t,a){"use strict";var n=a("4350"),o=a.n(n);o.a},"4d4a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"report-container"},[a("div",{staticClass:"option-form"},[a("el-form",{attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"日期范围"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{placeholder:"请输入商品名称",clearable:""},model:{value:e.form.goodsName,callback:function(t){e.$set(e.form,"goodsName",t)},expression:"form.goodsName"}})],1),a("el-form-item",{attrs:{label:"商户名称"}},[a("el-input",{attrs:{placeholder:"请输入商户名称",clearable:""},model:{value:e.form.merchantName,callback:function(t){e.$set(e.form,"merchantName",t)},expression:"form.merchantName"}})],1),a("el-form-item",{attrs:{label:"商户电话"}},[a("el-input",{attrs:{placeholder:"请输入商户电话",clearable:""},model:{value:e.form.merchantPhone,callback:function(t){e.$set(e.form,"merchantPhone",t)},expression:"form.merchantPhone"}})],1),a("el-form-item",{attrs:{label:"核销状态"}},[a("el-select",{attrs:{placeholder:"请选择核销状态",clearable:""},model:{value:e.form.couponStatus,callback:function(t){e.$set(e.form,"couponStatus",t)},expression:"form.couponStatus"}},e._l(e.couponStatusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:e.handleDownloadExcel}},[e._v(" 导出 Excel ")])],1),a("custom-table",{attrs:{list:e.list,columns:e.columns}}),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.fetchCouponVerifyList}})],1)},o=[],r=(a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("159b"),a("2fa7")),i=(a("96cf"),a("9f12")),l=a("53fe"),c=a("8b83"),u=a("c65a"),s=a("c03e"),p=a("9ab4"),d=a("60a3"),f=a("b8f0"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-box"},[a("el-table",{attrs:{data:e.list}},[e._l(e.columns,(function(e,t){return[a("el-table-column",{key:t,attrs:{fixed:e.fixed,prop:e.prop,label:e.label}})]})),e._l(e.operation.btnList,(function(t,n){return a("el-table-column",{key:n+e.columns.length,attrs:{label:e.operation.label,prop:e.operation.prop},scopedSlots:e._u([{key:"default",fn:function(n){return[a("el-button",{attrs:{type:t.type,icon:t.icon},nativeOn:{click:function(e){return e.preventDefault(),t.method(t,n.row)}}},[e._v(e._s(t.label)+" ")])]}}],null,!0)})}))],2)],1)},m=[],h=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(s["a"])(t,e),t}(d["c"]);p["a"]([Object(d["b"])({default:function(){return[]}})],h.prototype,"list",void 0),p["a"]([Object(d["b"])({default:function(){return[]}})],h.prototype,"columns",void 0),p["a"]([Object(d["b"])({default:function(){return{}}})],h.prototype,"operation",void 0),h=p["a"]([Object(d["a"])({name:"CustomTable"})],h);var g=h,v=g,y=(a("9e8d"),a("2877")),O=Object(y["a"])(v,b,m,!1,null,"6de9c9d9",null),j=O.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},k=[],C=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)},S=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),_=function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e},x=function(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop},P=function(e,t,a){var n=x(),o=e-n,r=20,i=0;t="undefined"===typeof t?500:t;var l=function e(){i+=r;var l=C(i,n,o,t);_(l),i<t?S(e):a&&"function"===typeof a&&a()};l()},z=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(s["a"])(t,e),Object(l["a"])(t,[{key:"handleSizeChange",value:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&P(0,800)}},{key:"handleCurrentChange",value:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&P(0,800)}},{key:"currentPage",get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},{key:"pageSize",get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}]),t}(d["c"]);p["a"]([Object(d["b"])({required:!0})],z.prototype,"total",void 0),p["a"]([Object(d["b"])({default:1})],z.prototype,"page",void 0),p["a"]([Object(d["b"])({default:10})],z.prototype,"limit",void 0),p["a"]([Object(d["b"])({default:function(){return[10,20,30,50]}})],z.prototype,"pageSizes",void 0),p["a"]([Object(d["b"])({default:"total, sizes, prev, pager, next, jumper"})],z.prototype,"layout",void 0),p["a"]([Object(d["b"])({default:!0})],z.prototype,"background",void 0),p["a"]([Object(d["b"])({default:!0})],z.prototype,"autoScroll",void 0),p["a"]([Object(d["b"])({default:!1})],z.prototype,"hidden",void 0),z=p["a"]([Object(d["a"])({name:"Pagination"})],z);var R=z,$=R,D=(a("6587"),Object(y["a"])($,w,k,!1,null,"30543126",null)),E=D.exports;function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.list=[],e.columns=[{label:"序号",prop:"id"},{label:"门店账号",prop:"merchant_id"},{label:"所属商户",prop:"merchant_name"},{label:"商户电话",prop:"merchant_phone"},{label:"核销商品名称",prop:"goods_name"},{label:"优惠券Code",prop:"coupon_code"},{label:"核销状态",prop:"coupon_status"},{label:"核销时间",prop:"update_time"}],e.operation={label:"操作",prop:"operation",btnList:[{label:"查看详情",type:"primary",icon:"",event:"look",show:!0,method:function(e,t){}}]},e.couponStatusOptions=[{value:"0",label:"未使用"},{value:"1",label:"已使用"},{value:"2",label:"已过期"},{value:"3",label:"已失效"},{value:"5",label:"退券中"},{value:"6",label:"已退券"}],e.total=0,e.listQuery={page:1,limit:10,importance:void 0,title:void 0,type:void 0,sort:"+id"},e.form=f["a"],e.dateRange=[],e}return Object(s["a"])(t,e),Object(l["a"])(t,[{key:"created",value:function(){this.fetchCouponVerifyList()}},{key:"onDateRangeChange",value:function(e){if(e){this.form.startDate=e[0];var t=e[1]+864e5-1;this.form.endDate=t}else this.form.startDate="",this.form.endDate=""}},{key:"fetchCouponVerifyList",value:function(){var e,t,a,n=arguments;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{page:0,limit:10},o.prev=1,o.next=4,regeneratorRuntime.awrap(Object(f["d"])(T({pageNum:e.page-1>0?e.page-1:0,pageSize:e.limit||10},this.form),{showLoading:!0}));case 4:t=o.sent,a=t.data,this.list=a.result||[],this.total=a.totalCount,o.next=12;break;case 10:o.prev=10,o.t0=o["catch"](1);case 12:case"end":return o.stop()}}),null,this,[[1,10]])}},{key:"handleDownloadExcel",value:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:Object(f["c"])("/exportCouponVerifyList",this.form);case 1:case"end":return e.stop()}}),null,this)}},{key:"search",value:function(){this.fetchCouponVerifyList()}}]),t}(d["c"]);p["a"]([Object(d["d"])("dateRange")],L.prototype,"onDateRangeChange",null),L=p["a"]([Object(d["a"])({name:"CancelVfReport",components:{CustomTable:j,Pagination:E}})],L);var V=L,Q=V,q=(a("4560"),Object(y["a"])(Q,n,o,!1,null,"abc7f3e4",null));t["default"]=q.exports},6587:function(e,t,a){"use strict";var n=a("190d"),o=a.n(n);o.a},"9e8d":function(e,t,a){"use strict";var n=a("a015"),o=a.n(n);o.a},a015:function(e,t,a){}}]);