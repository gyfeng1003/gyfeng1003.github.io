webpackJsonp([0],{"04ne":function(t,e,i){"use strict";function n(t){i("pIB4")}Object.defineProperty(e,"__esModule",{value:!0});var o=i("sM1F"),a=i.n(o),s=i("DPTG"),l=i("J0+h"),r=n,u=l(a.a,s.a,r,"data-v-50307f10",null);e.default=u.exports},"2D4x":function(t,e,i){e=t.exports=i("YfG4")(!1),e.push([t.i,".upload-container .editor-slide-upload[data-v-5aa23950]{margin-bottom:20px}",""])},"3cXf":function(t,e,i){t.exports={default:i("4rP4"),__esModule:!0}},"4cHJ":function(t,e,i){var n=i("vqmi");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("XkoO")("12d8481e",n,!0)},"4rP4":function(t,e,i){var n=i("UusJ"),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},"5aCZ":function(t,e,i){"use strict";function n(t){i("4cHJ")}Object.defineProperty(e,"__esModule",{value:!0});var o=i("GICJ"),a=i.n(o),s=i("jVA8"),l=i("J0+h"),r=n,u=l(a.a,s.a,r,"data-v-7a5a963f",null);e.default=u.exports},"5szV":function(t,e,i){"use strict";function n(t){i("gSyB")}Object.defineProperty(e,"__esModule",{value:!0});var o=i("uJTZ"),a=i.n(o),s=i("LB5C"),l=i("J0+h"),r=n,u=l(a.a,s.a,r,"data-v-5aa23950",null);e.default=u.exports},DPTG:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm}},[i("el-form-item",{attrs:{label:"筛选条件："}}),t._v(" "),i("el-form-item",{attrs:{label:"试卷名称"}},[i("el-input",{attrs:{placeholder:"请输入试卷名称搜索"},model:{value:t.searchForm.phone,callback:function(e){t.$set(t.searchForm,"phone",e)},expression:"searchForm.phone"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)],1),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.72)"}},[i("div",{staticStyle:{"text-align":"right","margin-right":"12px"}},[i("router-link",{attrs:{to:{path:"/measureManage/createExam"}}},[i("el-button",{attrs:{type:"text"}},[t._v("创建试卷")])],1),t._v(" "),i("el-button",{attrs:{type:"text",disabled:0===t.selections.length},nativeOn:{click:function(e){e.preventDefault(),t.batchDelExam(e)}}},[t._v("批量删除")])],1),t._v(" "),i("el-table",{staticClass:"examTable",staticStyle:{width:"100%"},attrs:{border:"",data:t.examList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",fixed:"",label:"试卷名称",width:"140"}}),t._v(" "),i("el-table-column",{attrs:{prop:"type",label:"试卷类型",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"isOnline",label:"上线",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(0==e.row.isOnline?"否":"是"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"chargeType",label:"收费方式",width:"120",formatter:t.formatCharge,"show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{prop:"consultMethod",width:"150",label:"咨询方式"}}),t._v(" "),i("el-table-column",{attrs:{prop:"level",width:"120",label:"难度等级",formatter:t.formatLevel}}),t._v(" "),i("el-table-column",{attrs:{prop:"explain",width:"120",label:"精测说明"}}),t._v(" "),i("el-table-column",{attrs:{prop:"grade",width:"120",label:"适用年级"}}),t._v(" "),i("el-table-column",{attrs:{prop:"price",width:"120",label:"价格"}}),t._v(" "),i("el-table-column",{attrs:{prop:"createUser",width:"120",label:"创建者"}}),t._v(" "),i("el-table-column",{attrs:{width:"120",label:"考试时长(分钟)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.examTime/60))]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"buyTimes",width:"120",label:"已购买次数"}}),t._v(" "),i("el-table-column",{attrs:{prop:"useTimes",width:"120",label:"精测进行中人次"}}),t._v(" "),i("el-table-column",{attrs:{prop:"createUser",width:"120",label:"创建者"}}),t._v(" "),i("el-table-column",{attrs:{prop:"createTime",width:"160",label:"创建时间",formatter:t.formatDate}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticStyle:{"margin-right":"12px"},attrs:{type:"text"},nativeOn:{click:function(i){i.preventDefault(),t.addQuestion(e.row)}}},[t._v("配置试题")]),t._v(" "),i("router-link",{attrs:{to:{path:"/measureManage/examDetail",query:{examId:e.row.examId}}}},[i("el-button",{staticStyle:{"margin-right":"12px"},attrs:{type:"text"}},[t._v("查看")])],1),t._v(" "),i("router-link",{attrs:{to:{path:"/measureManage/editExam",query:{examId:e.row.examId}}}},[i("el-button",{staticStyle:{"margin-right":"12px"},attrs:{type:"text"}},[t._v("编辑")])],1),t._v(" "),i("el-button",{attrs:{type:"text"},nativeOn:{click:function(i){i.preventDefault(),t.delExam(e.row.examId)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:40},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"试题属性",visible:t.dialogFormVisible,fullscreen:!0},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"questionForm",attrs:{model:t.questionForm,rules:t.questionRule,"label-width":"20%"}},[i("el-form-item",{attrs:{label:"一级题目类型",prop:"type"}},[i("el-select",{attrs:{placeholder:"请选择大题类型"},model:{value:t.questionForm.type,callback:function(e){t.$set(t.questionForm,"type",e)},expression:"questionForm.type"}},t._l(t.pType,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"二级题目类型",prop:"type1"}},[i("el-select",{attrs:{placeholder:"请选择小题类型"},model:{value:t.questionForm.type1,callback:function(e){t.$set(t.questionForm,"type1",e)},expression:"questionForm.type1"}},t._l(t.cType,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("el-form-item",{staticClass:"require",attrs:{label:"题目标题",prop:"questionBody"}},[i("tinymce",{attrs:{height:200},model:{value:t.questionForm.questionBody,callback:function(e){t.$set(t.questionForm,"questionBody",e)},expression:"questionForm.questionBody"}})],1),t._v(" "),t._l(t.optionList,function(e,n){return"0"==t.questionForm.type1||"4"==t.questionForm.type1?[i("el-form-item",{staticClass:"option require",attrs:{label:"选项"+e.tip}},[i("el-input",{model:{value:e.content,callback:function(i){t.$set(e,"content",i)},expression:"item.content"}}),i("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(e){t.delQuestionOption(n)}}})],1)]:t._e()}),t._v(" "),"0"==t.questionForm.type1||"4"==t.questionForm.type1?i("el-form-item",{staticClass:"add"},[i("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:t.addQuestionOption}},[t._v("增加选项")])],1):t._e(),t._v(" "),i("el-form-item",{staticClass:"require",attrs:{label:"参考答案"}},["4"==t.questionForm.type1?i("el-checkbox-group",{model:{value:t.multi,callback:function(e){t.multi=e},expression:"multi"}},t._l(t.optionList,function(t,e){return i("el-checkbox",{key:e,attrs:{label:t.tip,name:"type"}})})):t._e(),t._v(" "),"0"==t.questionForm.type1?i("el-radio-group",{model:{value:t.single,callback:function(e){t.single=e},expression:"single"}},t._l(t.optionList,function(t,e){return i("el-radio",{key:e,attrs:{label:t.tip}})})):t._e(),t._v(" "),"1"==t.questionForm.type1?i("el-radio-group",{model:{value:t.justice,callback:function(e){t.justice=e},expression:"justice"}},[i("el-radio",{attrs:{label:"是"}}),t._v(" "),i("el-radio",{attrs:{label:"否"}})],1):t._e(),t._v(" "),"0"!=t.questionForm.type1&&"1"!=t.questionForm.type1&&"4"!=t.questionForm.type1?i("el-input",{attrs:{type:"textarea",placeholder:"请输入答案"},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"试题难度",prop:"difficult"}},[i("el-select",{attrs:{placeholder:"请选择试题难度"},model:{value:t.questionForm.difficult,callback:function(e){t.$set(t.questionForm,"difficult",e)},expression:"questionForm.difficult"}},t._l(t.exam_level,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"分数",prop:"score"}},[i("el-input",{attrs:{type:"number",placeholder:"请输入分数"},model:{value:t.questionForm.score,callback:function(e){t.$set(t.questionForm,"score",e)},expression:"questionForm.score"}})],1)],2),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.confirm("questionForm")}}},[t._v("提 交")])],1)],1)],1)},o=[],a={render:n,staticRenderFns:o};e.a=a},GICJ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("5szV"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"tinymce",components:{editorImage:o.default},props:{id:{type:String},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return["removeformat undo redo |  bullist numlist | outdent indent | forecolor backcolor | fullscreen preview","bold italic underline strikethrough | subscript superscript| media link | alignleft aligncenter alignright"]}},menubar:{default:""},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id||"vue-tinymce-"+ +new Date}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t)})}},mounted:function(){var t=this,e=this;window.tinymce.init({language:"zh_CN",selector:"#"+this.tinymceId,height:this.height,theme:"modern",body_class:"panel-body ",object_resizing:!1,toolbar1:"bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | formatselect fontselect fontsizeselect",toolbar2:"searchreplace | bullist numlist | outdent indent blockquote | undo redo | link unlink image media | insertdatetime preview | forecolor backcolor",toolbar3:"table | hr removeformat | subscript superscript | charmap | print fullscreen | pagebreak restoredraft",menubar:this.menubar,plugins:["advlist autolink autosave link image lists charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","table contextmenu directionality textcolor paste fullpage textcolor colorpicker textpattern"],toolbar_items_size:"small",init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("NodeChange Change KeyUp",function(){t.hasChange=!0,console.log(i.getContent()),t.$emit("input",i.getContent({format:"raw"}))})}})},methods:{setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t.url+'" >')})}},destroyed:function(){window.tinymce.get(this.tinymceId).destroy()}}},LB5C:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-dialog",{model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{action:"https://httpbin.org/post",multiple:!0,"file-list":t.fileList,"show-file-list":!0,"list-type":"picture-card","on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},o=[],a={render:n,staticRenderFns:o};e.a=a},chFT:function(t,e,i){e=t.exports=i("YfG4")(!1),e.push([t.i,'.examTable[data-v-50307f10] td{padding:6px 0}.el-dropdown[data-v-50307f10]:hover{cursor:pointer}.el-dropdown-menu li i[data-v-50307f10]{font-size:12px}.el-dropdown-menu li span[data-v-50307f10]{margin-left:8px;font-size:12px}.option[data-v-50307f10]{margin-bottom:18px}.option[data-v-50307f10] .el-input{width:90%}.option[data-v-50307f10] .el-button{width:10%}.add[data-v-50307f10]{margin-bottom:0}.require[data-v-50307f10] .el-form-item__label:before{color:#ff4d51;content:"*";margin-right:4px}',""])},gSyB:function(t,e,i){var n=i("2D4x");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("XkoO")("500fcc99",n,!0)},jVA8:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tinymce-container editor-container"},[i("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}}),t._v(" "),i("div",{staticClass:"editor-custom-btn-container"},[i("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#20a0ff"},on:{successCBK:t.imageSuccessCBK}})],1)])},o=[],a={render:n,staticRenderFns:o};e.a=a},pIB4:function(t,e,i){var n=i("chFT");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("XkoO")("5a0db590",n,!0)},sM1F:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i("4YfN"),a=n(o),s=i("3cXf"),l=n(s),r=i("lQSI"),u=i("Q0Ca"),c=i("5aCZ"),d=n(c);e.default={name:"exam-list",data:function(){return{selections:[],loading:!0,searchForm:{},optionList:[{tip:"A",content:""},{tip:"B",content:""},{tip:"C",content:""},{tip:"D",content:""}],multi:[],single:"",justice:"",answer:"",examCondition:{},currentPage:1,examList:[],dialogFormVisible:!1,questionForm:{type:"-2",type1:"0",questionBody:"",difficult:""},questionRule:{difficult:[{required:!0,message:"请选择试题难度等级",trigger:"change"}],score:[{required:!0,message:"请输入分数",trigger:"blur"}]},paramObj:{type:"",page:1,pageSize:10}}},methods:{formatDate:function(t){return(0,u.parseTime)(t.createTime)},formatLevel:function(t){return this.exam_level[t.level].label},formatCharge:function(t){return this.fee_type[t.chargeType].label},handleSelectionChange:function(t){this.selections=t},onSubmit:function(){},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t)},addQuestion:function(t){this.questionForm={type:"-2",type1:"0",questionBody:"",difficult:""},this.dialogFormVisible=!0},addQuestionOption:function(){this.optionList.push({tip:String.fromCharCode(65+this.optionList.length),content:""})},delQuestionOption:function(t){this.optionList.splice(t,1)},confirm:function(t){var e=this;if("0"==this.questionForm.type1||"4"==this.questionForm.type1)for(var i=0;i<this.optionList.length;i++)if(!this.optionList[i].content||!this.optionList[i].content.trim())return void this.$message({type:"error",message:"请补全试题属性信息"});if(this.questionForm.questionOption=(0,l.default)(this.optionList),"0"==this.questionForm.type1?this.questionForm.rightAnswser=this.single:"4"==this.questionForm.type1?this.questionForm.rightAnswser=this.multi:"1"==this.questionForm.type1?this.questionForm.rightAnswser=this.justice:this.questionForm.rightAnswser=this.answer,!this.questionForm.rightAnswser||!this.questionForm.rightAnswser.trim()||!this.questionForm.questionBody)return void this.$message({type:"error",message:"请补全试题属性信息"});this.$refs[t].validate(function(t){t&&(e.dialogFormVisible=!1)})},delExam:function(t){var e=this;this.$confirm("您确定要删除该试卷？","确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},batchDelExam:function(){var t=this;this.selections.map(function(t){return t.examId}).join();this.$confirm("您确定要删除该试卷？","确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},search:function(){}},mounted:function(){var t=this,e=this;this.$store.dispatch("GetParentType"),this.$store.dispatch("GetChildType"),this.$store.dispatch("GetExamLevel"),this.$store.dispatch("GetCourseFeeType"),this.$http({url:"/exam/list4admin",method:"Get",params:e.paramObj}).then(function(e){t.examList=e.data.detail||[],t.loading=!1}).then(function(e){t.loading=!1})},components:{Tinymce:d.default},computed:(0,a.default)({},(0,r.mapGetters)(["pType","cType","exam_level","fee_type"]))}},uJTZ:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i("rVsN"),a=n(o),s=i("ZLEe"),l=n(s);e.default={name:"editorSlideUpload",props:{color:{type:String,default:"#20a0ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var t=this;return(0,l.default)(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=(0,l.default)(this.listObj).map(function(e){return t.listObj[e]});if(!this.checkAllSuccess())return void this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！");console.log(e),this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1},handleSuccess:function(t,e){for(var i=e.uid,n=(0,l.default)(this.listObj),o=0,a=n.length;o<a;o++)if(this.listObj[n[o]].uid===i)return this.listObj[n[o]].url=t.files.file,void(this.listObj[n[o]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,i=(0,l.default)(this.listObj),n=0,o=i.length;n<o;n++)if(this.listObj[i[n]].uid===e)return void delete this.listObj[i[n]]},beforeUpload:function(t){var e=this,i=window.URL||window.webkitURL,n=t.uid;return this.listObj[n]={},new a.default(function(o,a){var s=new Image;s.src=i.createObjectURL(t),s.onload=function(){e.listObj[n]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},o(!0)})}}}},vqmi:function(t,e,i){e=t.exports=i("YfG4")(!1),e.push([t.i,".tinymce-container[data-v-7a5a963f]{position:relative}.tinymce-textarea[data-v-7a5a963f]{visibility:hidden;z-index:-1}.editor-custom-btn-container[data-v-7a5a963f]{position:absolute;right:15px;top:18px}.editor-upload-btn[data-v-7a5a963f]{display:inline-block}",""])}});