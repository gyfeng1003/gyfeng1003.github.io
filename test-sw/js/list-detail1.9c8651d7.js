(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["list-detail1"],{"0c07":function(t,e,i){},"2cab":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yellow_star"},[i("div",{staticClass:"back1 v-md"},t._l(5,function(t){return i("div",{key:t})}),0),i("div",{staticClass:"front v-md",style:"width:"+100*t.code/5+"%;"},t._l(5,function(t){return i("div",{key:t})}),0)])},s=[],n={name:"yellow_star",props:["code"],data:function(){return{}},components:{},mounted:function(){},computed:{},methods:{}},o=n,l=(i("4d7c"),i("2877")),c=Object(l["a"])(o,a,s,!1,null,"026294ba",null);e["a"]=c.exports},"2d18":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAABNNJREFUWAntmH9oW1UUx5OmqV1hHWvHrEL9Ma3gojBLlYIt/SUIKhuruIEKwioOxKoVQUVEV38NQRiI9h+tIjimSMc2ROdImmIJbPSfFVHH6JiO/RB1ErdIUtvUz+ly327uu2lK+l7XQR/c3nPOPed7vvfk/nivgcDyszgVCHqZZmxsLJxMJl8H81qFGwwGj3d2dr6ndC/6ci9AFAaEX0WW5jwzMzOBaDT6R1dX16eOcYGCZ5WG2I1wOUa7xuREtf+sqKhY19LScsEcK0UvKyXIFgOxV7C7CIsv1V4zOTn5jC2uFNu8Kz0yMnLX1NTU/SS5BYJVZjKIPYzNSjrne56478w49CTtOPFDLKFfLeMuU1HSuc01SOTjrmgPDUzoP9rbHR0dO4rBFl0ebK6P/CYsJKl0OJvNvsHe6C1Ges5KDw8P3wHQUUDU5LLIx6hIqhjwfMchW4PvOuUP9t9VVVU3NTc3/6NsZj/nkQfg0wQowoFQKPRQe3v7tybIQnWK8xLF2Sk45FydSqUeQxwohOsQMh0SicQKAB7V7Af8IJzDf58KT2i5ntRkl1iQdDqdfgTvVSqCKhecufIptWfzTVGgj7X4Rqq/QdPzxLw1TWAoFot1M+vb8dqCHsl5n+EqvgH7dF60h8ro6Oj1mUzmNyBDAkuuGF2c9hOT2osu+2n2cSoNwSCz24/1K+QdGuFAWVnZ534SFibclmfovhdZHvJ30vppX8Nr7yXrpb8OaS6PZhwe0AeVjP0zJfvcW99PyL8R4k0qt0OagduUUe+pcIKlIe8Uvj91dXX7SHLelkjn55AOh8OHIHjSDMBmnb3p54UeiUQmwdltYsFhgrM7qux5G1GMbMRDzOq+nEOGt7P1vHMUPOgVkFc953UjWAc1vF28k/RpesAhzZqRNf0ibTMOzi+gO18hOUWl97AS3mltbT0hHGZJU92nkD+E8Jw35BUirdImEbqpeizIqXEnP/8Yhgo1ulR7Kn6usrIyUj49Pf3mHIRP4/gNv0CW/kH6er8mBP6P4Efpa+g3kafazIW9jpv6+XKEFnNQdIJHqqurNzU1NcnPEuDGWsnXxxD+apOK2ZOHXAPcer30szeufLohD5PrZkuCe2XD1VoG5EbqUYRlXL7veP/YBtiMzb9UG3hn6+vr+xRhwZEvGPQXCmDWWk8JASJwwgxqa2s7he2kaV+gfqShoSFjYnAu/2DaRKeYQStpxlZzBLpOEglgbI0Ee/WAudaGxdq12sXXShqgSsZ6TLB4PP4EYytN+wL1e8C928TggCj49R5k0VvXKEskDcHXONS/AEB8tqK/S1thJvBA/503yefAOciNKHtMNuWz5HIuPy3HeEHSmtNSE8ety2OpsTT5LJM2K+KXvlxpvypr4l6VlS7nfSLvY5Zz8hPOx+uM2Y3j97Jh81wl95fkzru8OK8TnOFvqWSMX3Ad3nwQyL9db1VO0hMY5+O2Q7f5IXPR/QVujY5N7iFyy7+RneeqXB4u0lT5X2dKlwXP/kt6GdItUVVXbhsfF2kCfzHhCHTZTB8vdPL8bOKwnl25baQ/gLj+EiXvur7981EnSd5dhn6RA2BQt4ns2ohiZDPKidLLzNMA7WQjHBb7Yjzk7ibPdtpFWj+5jy5G3uUctgr8D+c/07Vu3BkGAAAAAElFTkSuQmCC"},"4d7c":function(t,e,i){"use strict";var a=i("0c07"),s=i.n(a);s.a},"96b5":function(t,e,i){"use strict";var a=i("cca2"),s=i.n(a);s.a},"9d6c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAqCAYAAACpxZteAAAABGdBTUEAALGPC/xhBQAAA8BJREFUSA21l9tL1EEUx/fGphSpRUIXKqKgHqKgeolCNyXJyIJwgwLDe0TvUX9Bz0GBN7xAgUuRFEaJlyyoBwu6PAhtSYIgGJGWshSr2+esv1lmZ9fd3+7awo9zztc533PmzJyZ0eGwfq2trbdaWlquKXu1pEuIIL8RiUSuO53O221tbU2rRS48TsivQn5HkRIkgl7X1NTUpbBcpAvywzoBtpOvg8CXdDxb3VVUVNSIc69BIKXrZk2qDTxj0ykeIyMjnmAw+IDMzxoMYezq5ubmPgO3bUYX2efzhQsLC/3U/7nh6QHrZSanDdy2GZ2BGh0IBPJnZ2efMpNShVnyD7KKmQwYeFozOgM1yu/3h5jJGbJ+rTBLrkH2sYVPGHhaMy6AjCbIPDOoJMg7wzsf/DFBjht4SjOuRPrI9vb2DYuLiy/A9us4gX+73e6K+vr6Nzq+kr5iAHHo6ekpDoVCo6h7DYI5j8dTTpC3Bp5gJpRIH1FTUzMDURnYVx1HLwiHwwM040EDTzBTzkCNplw7KNdL7O0Ks+QPpI/d9cnAY2bKGahRDQ0Nk9RdZjKtMEtuRA6y8PsMPGbaCiCjCfLF5XKVscjfY97LSvHS0tJQZ2fnHgOPmrZKpDt2dHQcoP4jYEU6TuAp1qukrq5uQsdtz0A5sXM+QFaB/UthIumRbQQelvXS8YwDiDN3xRhrIs24oJMRRDbDcHd391aFZ1wi5ShSjg5I+/nydJzAn8FK2V3TOQUQUnrhFKIPQq8RZDwvL680qxIZRCmTzCmAVaKHSbKXEpXJSZAyup6pqXMJHaPWzyBaa/xtgn4paWxsnBI8qwDU/QjEg/iv18kJOCnk0vkKdyvFrpRGo3OFvFD3gVwazUeffIvDdSOdLmcOmY/ybTLGTnu93pLa2tqggTtsLzIdulvOnCTkM3JGJSOXYLYCWMf1EOM3GxnKcV3Ogo4beMxMuwbUfAvtP4rHzpjXsvKTupfRrR8NPM5MOQO5MjnAJPNdcV4OxxzkFZxJ7w08wVxxm1KWpJc+DPPslpN2L31PQkgAmqiABZVHlvmiWCDzSrvkwp1QIl536yCR190hGaD9QuBVLOgrDUurxgWwno5PID9qeMrT8Rzkwwae1owFgNzLu/QR5KW6F1n/xT6fzbtUeKIB5PkOeQByuQr1XxjsAuT9OpiJ7iRzN+T3IfLrjmS+iH2RrRjQ8Ux1F+TtJjkkS3yXcyWXZKREY6KoH5lH+Oohv6ewXKQLorsQ3hQSi/wKWFcupEl9uUT+yz/i/wAdi4NT+4C2jQAAAABJRU5ErkJggg=="},bc2a:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-detail-page"},[a("header-title",{attrs:{title:"商户详情"}},[a("img",{staticClass:"collection",attrs:{slot:"rightBtn",src:i("c979")("./collection"+(t.isCollection?"-active":"")+".png")},on:{click:t.handleCollection},slot:"rightBtn"})]),a("img",{staticClass:"back",attrs:{src:i("d8b9")},on:{click:t.goBack}}),a("img",{staticClass:"collection",attrs:{src:i("c979")("./collection"+(t.isCollection?"-active":"")+".png")},on:{click:t.handleCollection}}),a("div",{staticClass:"header-box",style:{backgroundImage:"url("+t.photoUrl+")"}}),a("div",{staticClass:"detail-container"},[a("div",{staticClass:"detail-card"},[a("div",{staticClass:"title"},[a("h2",[a("span",[t._v(t._s(t.detailData.name))])]),a("div",{staticClass:"business-info"},[a("div",{staticClass:"business_code"},[a("YellowStar",{attrs:{code:t.detailData.avgRating}}),a("span",{staticClass:"v-md1"},[t._v(t._s(t.detailData.ugcCount)+"条")]),a("span",{staticClass:"v-md1"},[t._v("￥"+t._s(t.detailData.avgPrice)+"/人")])],1),a("div",{staticClass:"business-other"},[a("span",[t._v("口味："+t._s(t.detailData.taste))]),a("span",[t._v("环境："+t._s(t.detailData.decoration))]),a("span",[t._v("服务："+t._s(t.detailData.service))])])])]),a("div",{staticClass:"row bd-t",on:{click:function(e){return t.openRouterMap(t.detailData)}}},[t.isZH&&t.detailData.address||!t.isZH&&t.detailData.addressEn?a("img",{staticClass:"left-icon",attrs:{src:i("fd39")}}):t._e(),a("div",{staticClass:"text"},[t._v(t._s(t.isZH?t.detailData.address:t.detailData.addressEn)+"\n\t\t\t\t")]),a("div",{staticClass:"icons"},[t.isZH&&t.detailData.address||!t.isZH&&t.detailData.addressEn?a("img",{staticClass:"navigation",attrs:{src:i("06ce")},on:{click:function(e){return t.openRouterMap(t.detailData)}}}):t._e(),t.detailData.iphoneNum?a("div",{staticClass:"line"}):t._e(),t.detailData.iphoneNum?a("img",{staticClass:"phone",attrs:{src:i("ad81")},on:{click:t.showActionsheet}}):t._e()])]),t.detailData.businessHour?a("div",{staticClass:"row store bd-t"},[a("img",{staticClass:"icon-store",attrs:{src:i("4d11")}}),a("div",{staticClass:"time"},[a("div",[t._v(t._s(t.detailData.businessHour))])])]):t._e(),a("div",{staticClass:"row store bd-t",on:{click:t.takeTaxi}},[a("img",{staticClass:"icon-store1",attrs:{src:i("2d18")}}),a("div",{staticClass:"text"},[t._v("打车")]),a("img",{staticClass:"right-icon taxi",attrs:{src:i("9d6c")}})])]),a("div",{staticClass:"content-box"},[a("h5",{staticClass:"content-title"},[t._v("推荐菜")]),a("div",{staticClass:"recommand"},[a("div",{staticClass:"slide-wrap"},t._l(t.recommendList,function(e,i){return a("div",{key:i,staticClass:"slide-swiper"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgUrl,expression:"data.imgUrl"}]}),a("div",[t._v(t._s(e.name))])])}),0)])]),a("div",{staticClass:"content-box"},[a("h5",{staticClass:"content-title"},[t._v(t._s(t.$t("listDetail.introduction")))]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.detailData.detailInfoHtml)}})])]),t.promoInfo&&t.promoInfo.id&&t.promoInfo.effectiveFlag?a("div",{staticClass:"buy-btn",on:{click:t.toNext}},[t._v("\n\t\t"+t._s(t.$t("goodsDetail.getDiscount"))+"\n\t")]):t._e(),a("v-actionsheet",{attrs:{visible:t.isActionsheetVisible},on:{"update:visible":function(e){t.isActionsheetVisible=e}}},[a("div",{staticClass:"phone-list"},[a("ul",[a("li",{on:{click:function(e){return t.callPhone(t.detailData.iphoneNum)}}},[t._v(t._s(t.detailData.iphoneNum))])]),a("div",{staticClass:"space"}),a("div",{staticClass:"cancel-btn",on:{click:t.hideActionsheet}},[t._v(t._s(t.$t("goodsDetail.cancel")))])])])],1)},s=[],n=(i("7f7f"),i("cebc")),o=i("c936"),l=i("62ce"),c=i("62a2"),d=i("ac2d"),r=i("88d1"),u=i("90fe"),h=i("ed08"),p=i("2cab"),v={name:"detail1",data:function(){return{photoUrl:"",id:this.$route.params.id,type:this.$route.params.type,isActionsheetVisible:!1,isCollection:!1,headerImage:{list:[],originList:[],videoList:[]},location:{lat:"",lon:""},promoInfo:null,detailData:{},token:Object(u["d"])("token"),isOpenLocation:!1,showTitleHeight:200,recommendList:[]}},components:{"header-title":r["a"],YellowStar:p["a"]},beforeRouteLeave:function(){var t=document.querySelector(".list-detail-page");t.removeEventListener("scroll",function(){})},mounted:function(){var t=this;this.scrollShowTitle(),this.token&&this.isCollectedByContentId(),d["a"].noCallAppLoginGetInfo(function(e){t.memberInfo=t.getMemberInfo(e)}),d["a"].refreshPage(function(){t.isCollectedByContentId(),d["a"].noCallAppLoginGetInfo(function(e){t.memberInfo=t.getMemberInfo(e)})}),this.getLocation(),this.loadDetail()},methods:Object(n["a"])({scrollShowTitle:function(){var t=this,e=document.querySelector(".list-detail-page");e.addEventListener("scroll",function(){var e=document.querySelector(".headerTop");t.showTitleHeight>this.scrollTop?e.style.opacity=this.scrollTop/t.showTitleHeight:e.style.opacity=1})}},c["a"],{getLocation:function(){var t=this;d["a"].gainLocation(function(e){100===e.msgCode&&e.result?(t.location.lat=e.result.gdLatitude,t.location.lon=e.result.gdLongitude):t.isOpenLocation=!0,t.loadDetail()},this)},loadDetail:function(){this.detailData=JSON.parse(Object(u["d"])("foodDetail")),Object(u["e"])("foodDetail"),this.photoUrl=this.detailData.photoUrl},openWebviewVideo:function(t,e){d["a"].openNewWebView({url:t,isFitWindow:e})},handleCollection:function(){this.isCollection?this.cancelCollection():this.addCollection()},openRouterMap:function(t){if(this.isOpenLocation)this.$toast({content:this.isZH?"请打开定位":"Open the location, please"});else{var e={lat:t.lat,lng:t.lon,chainName:t.name,address:this.isZH?t.address:t.addressEn,routerType:t.distance&&t.distance>1e3?1:3};d["a"].openRouterMap(e)}},addCollection:function(){var t=this;Object(u["d"])("token")?l["a"].insertCollected({contentAddr:this.isZH?this.detailData.address:this.detailData.addressEn,contentId:this.detailData.id,contentName:this.detailData.title,lat:this.detailData.lat,lon:this.detailData.lon,organizeId:this.detailData.organizeId,organizeName:this.detailData.organizeName,organizeLevel:this.detailData.organizeLevel.join(","),organizeLevelName:this.detailData.organizeLevelName}).then(function(e){t.isCollection=!t.isCollection}).catch(function(t){}):d["a"].callAppLogin()},cancelCollection:function(){var t=this;l["a"].cancelCollected({contentId:this.id}).then(function(e){t.isCollection=!t.isCollection})},isCollectedByContentId:function(){var t=this;l["a"].queryCollectedByContentId({contentId:this.id}).then(function(e){t.isCollection=e.data})},scanCard:function(){d["a"].openScanCard({})},toNext:function(){var t=this;Object(u["d"])("token")?1*this.memberInfo.auditing===1?o["a"].addOrder({beginTime:new Date(this.promoInfo.beginTime),endTime:new Date(this.promoInfo.endTime),isOn:this.promoInfo.status,productDesc:this.promoInfo.productDesc,productId:this.promoInfo.id,productName:this.detailData.title,productType:this.promoInfo.productType,address:this.isZH?this.detailData.address:this.detailData.addressEn,telephone:this.detailData.iphoneNum,lat:this.detailData.lat,lon:this.detailData.lon,thumbnailUrl:this.headerImage.originList[0]}).then(function(t){d["a"].openNewWebView({url:Object(h["b"])("/order-detail/".concat(t.data.id,"?from=list-detail")),isFitWindow:!0})}):this.$modal({content:this.$t("listDetail.modalTitle"),cancelText:this.$t("listDetail.cancelBtn"),confirmText:this.$t("listDetail.confirmBtn"),headerRightClose:!0,confirm:function(e){t.scanCard()}}):d["a"].callAppLogin()},toFixed:function(t){return t.toFixed(2)},showActionsheet:function(){this.isActionsheetVisible=!0},hideActionsheet:function(){this.isActionsheetVisible=!1},callPhone:function(t){d["a"].callPhone({phoneNumber:t})},goBack:function(){d["a"].closeWebView()},takeTaxi:function(){Object(u["d"])("token")?this.dida():d["a"].callAppLogin()},dida:function(){var t=this,e={appName:"BGSH_OVERSEA",channelCode:"10008",language:this.isZH?"zh":"en"};this.$axios.member.dida(e).then(function(t){var e=t.result.url;t&&d["a"].openNewWebView({url:e,isFitWindow:!0})}).catch(function(e){if(600==e.code){var i=t.isZH?"没有找到手机号":"No cell phone number found";t.$toast({content:i})}console.log(e)})}}),watch:{}},f=v,m=(i("96b5"),i("2877")),g=Object(m["a"])(f,a,s,!1,null,null,null);e["default"]=g.exports},cca2:function(t,e,i){}}]);