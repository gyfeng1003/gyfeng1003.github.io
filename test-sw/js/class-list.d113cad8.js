(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["class-list"],{"2f21":function(i,t,e){"use strict";var n=e("79e5");i.exports=function(i,t){return!!i&&n(function(){t?i.call(null,function(){},1):i.call(null)})}},"55dd":function(i,t,e){"use strict";var n=e("5ca1"),s=e("d8e8"),a=e("4bf8"),o=e("79e5"),l=[].sort,c=[1,2,3];n(n.P+n.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!e("2f21")(l)),"Array",{sort:function(i){return void 0===i?l.call(a(this)):l.call(a(this),s(i))}})},a0eb:function(i,t,e){},b32e:function(i,t,e){"use strict";var n=e("a0eb"),s=e.n(n);s.a},d1bf:function(i,t,e){i.exports=e.p+"img/icon_notice.2bdef19a.png"},ed08:function(i,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return s});e("28a5");var n=function(i){return window.location.href.split("#")[0]+"#"+i},s=function(){return new Promise(function(i,t){if(window.AMap)i(window.AMap);else{var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="http://webapi.amap.com/maps?v=1.4.14&callback=initAMap&key=555c914c29cb33d914437914f1b79b49",e.onerror=t,document.head.appendChild(e)}window.initAMap=function(){i(window.AMap)}})}},ef99:function(i,t,e){"use strict";e.r(t);var n=function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"foodClass",class:i.foodClass},[n("div",{staticClass:"content"},i._l(i.classList,function(t,e){return n("div",{key:e,staticClass:"foodClassContent",style:{backgroundImage:"url("+t.imageUrl+")"},on:{click:function(e){return i.viewDetail(t)}}},[n("div",{staticClass:"positon-box",class:{nonlegacyList:i.isNonlegacy}},[n("p",{staticClass:"title hiddenLine1",class:{nonlegacyTitle:i.isNonlegacy}},[i._v(i._s(t.name))]),n("p",{staticClass:"describe hiddenLine1"},[i._v(i._s(t.detail))])])])}),0),n("v-dialog",{attrs:{visible:i.isDialogVisible},on:{"update:visible":function(t){i.isDialogVisible=t}}},[n("div",{staticClass:"service-dialog"},[n("div",{staticClass:"introduction-icon"},[n("img",{staticClass:"icon1",attrs:{src:e("d1bf"),alt:""}})]),n("p",{directives:[{name:"show",rawName:"v-show",value:i.isOnlyZH,expression:"isOnlyZH"}],staticClass:"content-dialog"},[i._v("Only Chinese version is available now. More languages are\n\t\t\t\tcoming soon.")]),n("div",{directives:[{name:"show",rawName:"v-show",value:!i.isOnlyZH,expression:"!isOnlyZH"}],staticClass:"gap"}),n("p",{directives:[{name:"show",rawName:"v-show",value:!i.isOnlyZH,expression:"!isOnlyZH"}],staticClass:"tips"},[i._v(i._s(i.$t("customDialog.service")))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!i.isOnlyZH,expression:"!isOnlyZH"}],staticClass:"confrim-btn",on:{click:i.hideDialog}},[i._v(i._s(i.$t("customDialog.know")))]),n("div",{directives:[{name:"show",rawName:"v-show",value:i.isOnlyZH,expression:"isOnlyZH"}],staticClass:"confrim-btn",on:{click:i.toDetail}},[i._v("Got it")])])])],1)},s=[],a=(e("6762"),e("2fdb"),e("7f7f"),e("55dd"),e("ac2d")),o=e("ed08"),l=e("90fe"),c=e("90e9"),r={name:"foodClass",data:function(){return{currentTap:"",foodClass:this.$t("font"),classList:[],isDialogVisible:!1,isOnlyZH:!1,serviceDialog:!1,token:"",allOrganize:[],categoryId:"",titleName:"",isNonlegacy:!1}},created:function(){var i=this;this.categoryId=this.$route.query.id,this.isNonlegacy="2-1"===this.categoryId&&1,window.localStorage.getItem("allOrganize")?(this.getList(this.categoryId),setTimeout(function(){Object(c["b"])().then(function(i){window.localStorage.setItem("allOrganize",JSON.stringify(i))})},1e3)):Object(c["b"])().then(function(t){window.localStorage.setItem("allOrganize",JSON.stringify(t)),i.getList(i.categoryId)})},mounted:function(){var i=this;a["a"].noCallAppLoginGetInfo(function(t,e){Object(l["f"])("token",e),i.token=e})},watch:{$route:function(){this.categoryId=this.$route.query.id,this.getList(this.categoryId)}},methods:{getList:function(i){this.allOrganize=JSON.parse(window.localStorage.getItem("allOrganize")),this.isNonlegacy?setTimeout(function(){a["a"].setAppTitle({title:"非物质文化遗产"})},300):this.queryTitle(i),this.hasChildList(i)},showDialog:function(i){this.isOnlyZH=i||!1,this.isDialogVisible=!0},hideDialog:function(){this.isDialogVisible=!1},toDetail:function(){this.hideDialog(),"train"===this.currentTap?a["a"].openNewWebView({url:"https://m.lvmama.com/train",isFitWindow:!1}):"flight"===this.currentTap?a["a"].openNewWebView({url:"https://m.lvmama.com/flight",isFitWindow:!1}):"taxi"===this.currentTap&&this.dida()},hasChildList:function(i){var t="";this.allOrganize.map(function(e){e.categoryId===i&&(t=e.id)}),this.classList=this.allOrganize.filter(function(i){return i.parentId===t}).sort(function(i,t){return t.weight-i.weight}),console.log(this.classList,"this.classList")},queryTitle:function(i){var t=this;console.log(i,"getList");var e="";this.allOrganize.map(function(n){n.categoryId===i&&(e=n.parentId,e?t.queryParentId(e):a["a"].setAppTitle({title:n.name}))})},queryParentId:function(i){var t=this;this.allOrganize.map(function(e){e.id===i&&(e.parentId?t.queryParentId(e.parentId):(t.titleName=e.name,console.log(t.titleName,"queryTitle"),a["a"].setAppTitle({title:t.titleName})))})},viewDetail:function(i){if(console.log(i.url),0!==i.jumpType){if("11_2"===i.categoryId)return Object(l["d"])("token")?void this.dida():void a["a"].callAppLogin();a["a"].openNewWebView({url:Object(o["b"])(i.url),isFitWindow:!(i.url.includes("experience-non-relics")||i.url.includes("list"))}),i.name||this.showDialog()}else a["a"].openNewWebView({url:i.url,isFitWindow:!("11_3"===i.categoryId||"11_4"===i.categoryId)})},dida:function(){var i=this,t={appName:"BGSH_OVERSEA",channelCode:"10008",language:this.isZH?"zh":"en"};this.$axios.member.dida(t).then(function(i){var t=i.result.url;i&&a["a"].openNewWebView({url:t,isFitWindow:!0})}).catch(function(t){600==t.code&&i.$toast({content:"没有找到手机号"}),console.log(t)})}}},u=r,d=(e("b32e"),e("2877")),h=Object(d["a"])(u,n,s,!1,null,"f7bd64d8",null);t["default"]=h.exports}}]);