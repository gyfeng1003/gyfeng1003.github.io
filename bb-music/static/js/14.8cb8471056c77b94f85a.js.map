{"version":3,"sources":["webpack:///static/js/14.8cb8471056c77b94f85a.js","webpack:///./src/components/search/search.vue","webpack:///search.vue","webpack:///./src/components/search/search.vue?4150","webpack:///./src/components/search/search.vue?c4e1","webpack:///./src/components/search/search.vue?8b9e"],"names":["webpackJsonp","619","module","exports","__webpack_require__","injectStyle","ssrContext","Component","652","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1__api_search__","__WEBPACK_IMPORTED_MODULE_2__api_config__","__WEBPACK_IMPORTED_MODULE_3__suggest_suggest_vue__","__WEBPACK_IMPORTED_MODULE_3__suggest_suggest_vue___default","__WEBPACK_IMPORTED_MODULE_4_vuex__","__WEBPACK_IMPORTED_MODULE_5__common_js_mixin__","669","push","i","687","content","locals","712","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","on","onQueryChange","_v","directives","name","rawName","query","expression","attrs","shortCut","_l","item","index","key","$event","addQuery","k","_s","searchHistory","showConfirm","deleteSearchHistory","blurInput","saveSearch","clearSearchHistory","staticRenderFns"],"mappings":"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","file":"static/js/14.8cb8471056c77b94f85a.js","sourcesContent":["webpackJsonp([14],{\n\n/***/ 619:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(687)\n}\nvar Component = __webpack_require__(9)(\n  /* script */\n  __webpack_require__(652),\n  /* template */\n  __webpack_require__(712),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-6194ecce\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 652:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_search__ = __webpack_require__(219);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_config__ = __webpack_require__(68);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__suggest_suggest_vue__ = __webpack_require__(221);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__suggest_suggest_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__suggest_suggest_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vuex__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__common_js_mixin__ = __webpack_require__(89);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_5__common_js_mixin__[\"c\" /* playlistMixin */], __WEBPACK_IMPORTED_MODULE_5__common_js_mixin__[\"b\" /* searchMixin */]],\n  data: function data() {\n    return {\n      hotKey: []\n    };\n  },\n\n  computed: {\n    shortCut: function shortCut() {\n      return this.hotKey.concat(this.searchHistory);\n    }\n  },\n  created: function created() {\n    this._getHotKey();\n  },\n\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    handlePlaylist: function handlePlaylist(playlist) {\n      var bottom = playlist.length > 0 ? '60px' : '';\n      this.$refs.shortcutBox.style.bottom = bottom;\n      this.$refs.searchResult.style.bottom = bottom;\n      this.$refs.shortcut.refresh();\n      this.$refs.suggest.refresh();\n    },\n    showConfirm: function showConfirm() {\n      this.$refs.confirm.toggleDisplay();\n    },\n    _getHotKey: function _getHotKey() {\n      var _this = this;\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_search__[\"b\" /* getHotKey */])().then(function (res) {\n        if (res.code == __WEBPACK_IMPORTED_MODULE_2__api_config__[\"a\" /* ERR_OK */]) {\n          _this.hotKey = res.data.hotkey.slice(0, 10);\n        }\n      });\n    }\n  }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_vuex__[\"c\" /* mapActions */])(['clearSearchHistory'])),\n  watch: {\n    query: function query(val) {\n      var _this2 = this;\n\n      if (!val) {\n        this.$nextTick(function () {\n          _this2.$refs.shortcut.refresh();\n        });\n      }\n    }\n  },\n  components: {\n    suggest: __WEBPACK_IMPORTED_MODULE_3__suggest_suggest_vue___default.a\n  }\n});\n\n/***/ }),\n\n/***/ 669:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(604)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".search-wrap[data-v-6194ecce]{position:absolute;left:0;top:88px;right:0;background:#f5f5f5}.search-wrap .search-box[data-v-6194ecce]{margin:20px}.search-wrap .shortcut-box[data-v-6194ecce]{position:fixed;left:0;top:168px;right:0;bottom:0;background:#f5f5f5}.search-wrap .shortcut-box .shortcut[data-v-6194ecce]{height:100%;overflow:hidden}.search-wrap .shortcut-box .shortcut .hot-key[data-v-6194ecce]{margin:0 20px 20px;font-size:0}.search-wrap .shortcut-box .shortcut .hot-key .title[data-v-6194ecce]{margin-bottom:20px;font-size:14px;color:#999}.search-wrap .shortcut-box .shortcut .hot-key .item[data-v-6194ecce]{display:inline-block;padding:5px 10px;margin:0 20px 10px 0;font-size:14px;color:#666;border-radius:6px;background:#ebeaea}.search-wrap .shortcut-box .shortcut .search-history[data-v-6194ecce]{position:relative;margin:0 20px}.search-wrap .shortcut-box .shortcut .search-history .title[data-v-6194ecce]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;height:40px;font-size:14px;color:#999}.search-wrap .shortcut-box .shortcut .search-history .title .text[data-v-6194ecce]{-ms-flex:1;flex:1}.search-wrap .shortcut-box .shortcut .search-history .title .icon-clear[data-v-6194ecce]{margin-right:-10px;padding:10px;font-size:14px;color:#666}.search-wrap .search-result[data-v-6194ecce]{position:fixed;left:0;top:178px;right:0;bottom:0}\", \"\", {\"version\":3,\"sources\":[\"D:/download/bbMusic/src/components/search/search.vue\"],\"names\":[],\"mappings\":\"AACA,8BACE,kBAAmB,AACnB,OAAQ,AACR,SAAU,AACV,QAAS,AACT,kBAAoB,CACrB,AACD,0CACI,WAAa,CAChB,AACD,4CACI,eAAgB,AAChB,OAAQ,AACR,UAAW,AACX,QAAS,AACT,SAAU,AACV,kBAAoB,CACvB,AACD,sDACM,YAAa,AACb,eAAiB,CACtB,AACD,+DACQ,mBAAoB,AACpB,WAAa,CACpB,AACD,sEACU,mBAAoB,AACpB,eAAgB,AAChB,UAAY,CACrB,AACD,qEACU,qBAAsB,AACtB,iBAAkB,AAClB,qBAAsB,AACtB,eAAgB,AAChB,WAAY,AACZ,kBAAmB,AACnB,kBAAoB,CAC7B,AACD,sEACQ,kBAAmB,AACnB,aAAe,CACtB,AACD,6EACU,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,8BAA+B,AACnC,sBAAuB,AACnB,mBAAoB,AACxB,YAAa,AACb,eAAgB,AAChB,UAAY,CACrB,AACD,mFACY,WAAY,AACR,MAAQ,CACvB,AACD,yFACY,mBAAoB,AACpB,aAAc,AACd,eAAgB,AAChB,UAAY,CACvB,AACD,6CACI,eAAgB,AAChB,OAAQ,AACR,UAAW,AACX,QAAS,AACT,QAAU,CACb\",\"file\":\"search.vue\",\"sourcesContent\":[\"\\n.search-wrap[data-v-6194ecce] {\\n  position: absolute;\\n  left: 0;\\n  top: 88px;\\n  right: 0;\\n  background: #f5f5f5;\\n}\\n.search-wrap .search-box[data-v-6194ecce] {\\n    margin: 20px;\\n}\\n.search-wrap .shortcut-box[data-v-6194ecce] {\\n    position: fixed;\\n    left: 0;\\n    top: 168px;\\n    right: 0;\\n    bottom: 0;\\n    background: #f5f5f5;\\n}\\n.search-wrap .shortcut-box .shortcut[data-v-6194ecce] {\\n      height: 100%;\\n      overflow: hidden;\\n}\\n.search-wrap .shortcut-box .shortcut .hot-key[data-v-6194ecce] {\\n        margin: 0 20px 20px;\\n        font-size: 0;\\n}\\n.search-wrap .shortcut-box .shortcut .hot-key .title[data-v-6194ecce] {\\n          margin-bottom: 20px;\\n          font-size: 14px;\\n          color: #999;\\n}\\n.search-wrap .shortcut-box .shortcut .hot-key .item[data-v-6194ecce] {\\n          display: inline-block;\\n          padding: 5px 10px;\\n          margin: 0 20px 10px 0;\\n          font-size: 14px;\\n          color: #666;\\n          border-radius: 6px;\\n          background: #ebeaea;\\n}\\n.search-wrap .shortcut-box .shortcut .search-history[data-v-6194ecce] {\\n        position: relative;\\n        margin: 0 20px;\\n}\\n.search-wrap .shortcut-box .shortcut .search-history .title[data-v-6194ecce] {\\n          display: -ms-flexbox;\\n          display: flex;\\n          -ms-flex-pack: justify;\\n              justify-content: space-between;\\n          -ms-flex-align: center;\\n              align-items: center;\\n          height: 40px;\\n          font-size: 14px;\\n          color: #999;\\n}\\n.search-wrap .shortcut-box .shortcut .search-history .title .text[data-v-6194ecce] {\\n            -ms-flex: 1;\\n                flex: 1;\\n}\\n.search-wrap .shortcut-box .shortcut .search-history .title .icon-clear[data-v-6194ecce] {\\n            margin-right: -10px;\\n            padding: 10px;\\n            font-size: 14px;\\n            color: #666;\\n}\\n.search-wrap .search-result[data-v-6194ecce] {\\n    position: fixed;\\n    left: 0;\\n    top: 178px;\\n    right: 0;\\n    bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 687:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(669);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(605)(\"34cc5a21\", content, true, {});\n\n/***/ }),\n\n/***/ 712:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"search-wrap\"\n  }, [_c('div', {\n    staticClass: \"search-box\"\n  }, [_c('search-box', {\n    ref: \"search\",\n    staticClass: \"search\",\n    on: {\n      \"query\": _vm.onQueryChange\n    }\n  }), _vm._v(\" \"), _c('p')], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.query),\n      expression: \"!query\"\n    }],\n    ref: \"shortcutBox\",\n    staticClass: \"shortcut-box\"\n  }, [_c('scroll', {\n    ref: \"shortcut\",\n    staticClass: \"shortcut\",\n    attrs: {\n      \"data\": _vm.shortCut\n    }\n  }, [_c('div', [_c('div', {\n    staticClass: \"hot-key\"\n  }, [_c('h2', {\n    staticClass: \"title\"\n  }, [_vm._v(\"热门搜索\")]), _vm._v(\" \"), _c('ul', _vm._l((_vm.hotKey), function(item, index) {\n    return _c('li', {\n      key: index,\n      staticClass: \"item\",\n      on: {\n        \"click\": function($event) {\n          return _vm.addQuery(item.k)\n        }\n      }\n    }, [_vm._v(_vm._s(item.k))])\n  }), 0)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.searchHistory.length),\n      expression: \"searchHistory.length\"\n    }],\n    staticClass: \"search-history\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_c('span', {\n    staticClass: \"text\"\n  }, [_vm._v(\"搜索历史\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"icon-clear\",\n    on: {\n      \"click\": _vm.showConfirm\n    }\n  })]), _vm._v(\" \"), _c('search-list', {\n    attrs: {\n      \"searches\": _vm.searchHistory\n    },\n    on: {\n      \"select\": _vm.addQuery,\n      \"delete\": _vm.deleteSearchHistory\n    }\n  })], 1)])])], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    ref: \"searchResult\",\n    staticClass: \"search-result\"\n  }, [_c('suggest', {\n    ref: \"suggest\",\n    attrs: {\n      \"query\": _vm.query\n    },\n    on: {\n      \"listScroll\": _vm.blurInput,\n      \"select\": _vm.saveSearch\n    }\n  })], 1), _vm._v(\" \"), _c('confirm', {\n    ref: \"confirm\",\n    attrs: {\n      \"title\": \"是否清空所有搜索历史\",\n      \"btn-ok\": \"清空\"\n    },\n    on: {\n      \"confirm\": _vm.clearSearchHistory\n    }\n  }), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/14.8cb8471056c77b94f85a.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6194ecce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6194ecce\\\",\\\"hasScoped\\\":true}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-6194ecce\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search/search.vue\n// module id = 619\n// module chunks = 14","<template>\n  <div class=\"search-wrap\">\n    <div class=\"search-box\">\n      <search-box class=\"search\" @query=\"onQueryChange\" ref=\"search\"></search-box>\n      <p></p>\n    </div>\n    <div class=\"shortcut-box\" v-show=\"!query\" ref=\"shortcutBox\">\n      <scroll class=\"shortcut\" :data=\"shortCut\" ref=\"shortcut\">\n        <div>\n          <div class=\"hot-key\">\n            <h2 class=\"title\">热门搜索</h2>\n            <ul>\n              <li class=\"item\" v-for=\"(item, index) in hotKey\" :key=\"index\" @click=\"addQuery(item.k)\">{{item.k}}</li>\n            </ul>\n          </div>\n          <div class=\"search-history\" v-show=\"searchHistory.length\">\n            <div class=\"title\">\n              <span class=\"text\">搜索历史</span>\n              <i class=\"icon-clear\" @click=\"showConfirm\"></i>\n            </div>\n            <search-list :searches=\"searchHistory\" @select=\"addQuery\" @delete=\"deleteSearchHistory\"></search-list>\n          </div>\n        </div>\n      </scroll>\n    </div>\n    <div class=\"search-result\" v-show=\"query\" ref=\"searchResult\">\n      <suggest :query=\"query\" @listScroll=\"blurInput\" @select=\"saveSearch\" ref=\"suggest\"></suggest>\n    </div>\n    <confirm title=\"是否清空所有搜索历史\" btn-ok=\"清空\" @confirm=\"clearSearchHistory\" ref=\"confirm\"></confirm>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\n  import {getHotKey} from '../../api/search'\n  import {ERR_OK} from '../../api/config'\n  import suggest from '../suggest/suggest.vue'\n  import {mapActions} from 'vuex'\n  import {playlistMixin, searchMixin} from '../../common/js/mixin'\n\n  export default {\n    mixins: [playlistMixin, searchMixin],\n    data() {\n      return {\n        hotKey: []\n      }\n    },\n    computed: {\n      shortCut() {\n        return this.hotKey.concat(this.searchHistory)\n      }\n    },\n    created() {\n      this._getHotKey()\n    },\n    methods: {\n      handlePlaylist(playlist) {\n        let bottom = playlist.length > 0 ? '60px' : ''\n        this.$refs.shortcutBox.style.bottom = bottom\n        this.$refs.searchResult.style.bottom = bottom\n        this.$refs.shortcut.refresh()\n        this.$refs.suggest.refresh()\n      },\n      showConfirm() {\n        this.$refs.confirm.toggleDisplay()\n      },\n      _getHotKey() {\n        getHotKey().then((res) => {\n          if (res.code == ERR_OK) {\n            this.hotKey = res.data.hotkey.slice(0, 10)\n          }\n        })\n      },\n      ...mapActions(['clearSearchHistory'])\n    },\n    watch: {\n      query(val) {\n        if (!val) {\n          this.$nextTick(() => {\n            this.$refs.shortcut.refresh()\n          })\n        }\n      }\n    },\n    components: {\n      suggest\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  @import \"../../common/scss/variable\";\n  @import \"../../common/scss/mixin\";\n\n  .search-wrap {\n    position: absolute;\n    left: 0;\n    top: 88px;\n    right: 0;\n    background: #f5f5f5;\n    .search-box {\n      margin: 20px;\n    }\n    .shortcut-box {\n      position: fixed;\n      left: 0;\n      top: 168px;\n      right: 0;\n      bottom: 0;\n      background: #f5f5f5;\n      .shortcut {\n        height: 100%;\n        overflow: hidden;\n        .hot-key {\n          margin: 0 20px 20px;\n          font-size: 0;\n          .title {\n            margin-bottom: 20px;\n            font-size: $font-size-medium;\n            color: $color-text-l;\n          }\n          .item {\n            display: inline-block;\n            padding: 5px 10px;\n            margin: 0 20px 10px 0;\n            font-size: $font-size-medium;\n            color: $color-text-d;\n            border-radius: 6px;\n            background: #ebeaea;\n          }\n        }\n        .search-history {\n          position: relative;\n          margin: 0 20px;\n          .title {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            height: 40px;\n            font-size: $font-size-medium;\n            color: $color-text-l;\n            .text {\n              flex: 1;\n            }\n            .icon-clear {\n              margin-right: -10px;\n              padding: 10px;\n              font-size: $font-size-medium;\n              color: $color-text-d;\n            }\n          }\n        }\n      }\n    }\n    .search-result {\n      position: fixed;\n      left: 0;\n      top: 178px;\n      right: 0;\n      bottom: 0;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// search.vue?2ae3e86c","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".search-wrap[data-v-6194ecce]{position:absolute;left:0;top:88px;right:0;background:#f5f5f5}.search-wrap .search-box[data-v-6194ecce]{margin:20px}.search-wrap .shortcut-box[data-v-6194ecce]{position:fixed;left:0;top:168px;right:0;bottom:0;background:#f5f5f5}.search-wrap .shortcut-box .shortcut[data-v-6194ecce]{height:100%;overflow:hidden}.search-wrap .shortcut-box .shortcut .hot-key[data-v-6194ecce]{margin:0 20px 20px;font-size:0}.search-wrap .shortcut-box .shortcut .hot-key .title[data-v-6194ecce]{margin-bottom:20px;font-size:14px;color:#999}.search-wrap .shortcut-box .shortcut .hot-key .item[data-v-6194ecce]{display:inline-block;padding:5px 10px;margin:0 20px 10px 0;font-size:14px;color:#666;border-radius:6px;background:#ebeaea}.search-wrap .shortcut-box .shortcut .search-history[data-v-6194ecce]{position:relative;margin:0 20px}.search-wrap .shortcut-box .shortcut .search-history .title[data-v-6194ecce]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;height:40px;font-size:14px;color:#999}.search-wrap .shortcut-box .shortcut .search-history .title .text[data-v-6194ecce]{-ms-flex:1;flex:1}.search-wrap .shortcut-box .shortcut .search-history .title .icon-clear[data-v-6194ecce]{margin-right:-10px;padding:10px;font-size:14px;color:#666}.search-wrap .search-result[data-v-6194ecce]{position:fixed;left:0;top:178px;right:0;bottom:0}\", \"\", {\"version\":3,\"sources\":[\"D:/download/bbMusic/src/components/search/search.vue\"],\"names\":[],\"mappings\":\"AACA,8BACE,kBAAmB,AACnB,OAAQ,AACR,SAAU,AACV,QAAS,AACT,kBAAoB,CACrB,AACD,0CACI,WAAa,CAChB,AACD,4CACI,eAAgB,AAChB,OAAQ,AACR,UAAW,AACX,QAAS,AACT,SAAU,AACV,kBAAoB,CACvB,AACD,sDACM,YAAa,AACb,eAAiB,CACtB,AACD,+DACQ,mBAAoB,AACpB,WAAa,CACpB,AACD,sEACU,mBAAoB,AACpB,eAAgB,AAChB,UAAY,CACrB,AACD,qEACU,qBAAsB,AACtB,iBAAkB,AAClB,qBAAsB,AACtB,eAAgB,AAChB,WAAY,AACZ,kBAAmB,AACnB,kBAAoB,CAC7B,AACD,sEACQ,kBAAmB,AACnB,aAAe,CACtB,AACD,6EACU,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,8BAA+B,AACnC,sBAAuB,AACnB,mBAAoB,AACxB,YAAa,AACb,eAAgB,AAChB,UAAY,CACrB,AACD,mFACY,WAAY,AACR,MAAQ,CACvB,AACD,yFACY,mBAAoB,AACpB,aAAc,AACd,eAAgB,AAChB,UAAY,CACvB,AACD,6CACI,eAAgB,AAChB,OAAQ,AACR,UAAW,AACX,QAAS,AACT,QAAU,CACb\",\"file\":\"search.vue\",\"sourcesContent\":[\"\\n.search-wrap[data-v-6194ecce] {\\n  position: absolute;\\n  left: 0;\\n  top: 88px;\\n  right: 0;\\n  background: #f5f5f5;\\n}\\n.search-wrap .search-box[data-v-6194ecce] {\\n    margin: 20px;\\n}\\n.search-wrap .shortcut-box[data-v-6194ecce] {\\n    position: fixed;\\n    left: 0;\\n    top: 168px;\\n    right: 0;\\n    bottom: 0;\\n    background: #f5f5f5;\\n}\\n.search-wrap .shortcut-box .shortcut[data-v-6194ecce] {\\n      height: 100%;\\n      overflow: hidden;\\n}\\n.search-wrap .shortcut-box .shortcut .hot-key[data-v-6194ecce] {\\n        margin: 0 20px 20px;\\n        font-size: 0;\\n}\\n.search-wrap .shortcut-box .shortcut .hot-key .title[data-v-6194ecce] {\\n          margin-bottom: 20px;\\n          font-size: 14px;\\n          color: #999;\\n}\\n.search-wrap .shortcut-box .shortcut .hot-key .item[data-v-6194ecce] {\\n          display: inline-block;\\n          padding: 5px 10px;\\n          margin: 0 20px 10px 0;\\n          font-size: 14px;\\n          color: #666;\\n          border-radius: 6px;\\n          background: #ebeaea;\\n}\\n.search-wrap .shortcut-box .shortcut .search-history[data-v-6194ecce] {\\n        position: relative;\\n        margin: 0 20px;\\n}\\n.search-wrap .shortcut-box .shortcut .search-history .title[data-v-6194ecce] {\\n          display: -ms-flexbox;\\n          display: flex;\\n          -ms-flex-pack: justify;\\n              justify-content: space-between;\\n          -ms-flex-align: center;\\n              align-items: center;\\n          height: 40px;\\n          font-size: 14px;\\n          color: #999;\\n}\\n.search-wrap .shortcut-box .shortcut .search-history .title .text[data-v-6194ecce] {\\n            -ms-flex: 1;\\n                flex: 1;\\n}\\n.search-wrap .shortcut-box .shortcut .search-history .title .icon-clear[data-v-6194ecce] {\\n            margin-right: -10px;\\n            padding: 10px;\\n            font-size: 14px;\\n            color: #666;\\n}\\n.search-wrap .search-result[data-v-6194ecce] {\\n    position: fixed;\\n    left: 0;\\n    top: 178px;\\n    right: 0;\\n    bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6194ecce\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/search/search.vue\n// module id = 669\n// module chunks = 14","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6194ecce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./search.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"34cc5a21\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6194ecce\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/search/search.vue\n// module id = 687\n// module chunks = 14","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"search-wrap\"\n  }, [_c('div', {\n    staticClass: \"search-box\"\n  }, [_c('search-box', {\n    ref: \"search\",\n    staticClass: \"search\",\n    on: {\n      \"query\": _vm.onQueryChange\n    }\n  }), _vm._v(\" \"), _c('p')], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.query),\n      expression: \"!query\"\n    }],\n    ref: \"shortcutBox\",\n    staticClass: \"shortcut-box\"\n  }, [_c('scroll', {\n    ref: \"shortcut\",\n    staticClass: \"shortcut\",\n    attrs: {\n      \"data\": _vm.shortCut\n    }\n  }, [_c('div', [_c('div', {\n    staticClass: \"hot-key\"\n  }, [_c('h2', {\n    staticClass: \"title\"\n  }, [_vm._v(\"热门搜索\")]), _vm._v(\" \"), _c('ul', _vm._l((_vm.hotKey), function(item, index) {\n    return _c('li', {\n      key: index,\n      staticClass: \"item\",\n      on: {\n        \"click\": function($event) {\n          return _vm.addQuery(item.k)\n        }\n      }\n    }, [_vm._v(_vm._s(item.k))])\n  }), 0)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.searchHistory.length),\n      expression: \"searchHistory.length\"\n    }],\n    staticClass: \"search-history\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_c('span', {\n    staticClass: \"text\"\n  }, [_vm._v(\"搜索历史\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"icon-clear\",\n    on: {\n      \"click\": _vm.showConfirm\n    }\n  })]), _vm._v(\" \"), _c('search-list', {\n    attrs: {\n      \"searches\": _vm.searchHistory\n    },\n    on: {\n      \"select\": _vm.addQuery,\n      \"delete\": _vm.deleteSearchHistory\n    }\n  })], 1)])])], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    ref: \"searchResult\",\n    staticClass: \"search-result\"\n  }, [_c('suggest', {\n    ref: \"suggest\",\n    attrs: {\n      \"query\": _vm.query\n    },\n    on: {\n      \"listScroll\": _vm.blurInput,\n      \"select\": _vm.saveSearch\n    }\n  })], 1), _vm._v(\" \"), _c('confirm', {\n    ref: \"confirm\",\n    attrs: {\n      \"title\": \"是否清空所有搜索历史\",\n      \"btn-ok\": \"清空\"\n    },\n    on: {\n      \"confirm\": _vm.clearSearchHistory\n    }\n  }), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6194ecce\",\"hasScoped\":true}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/search.vue\n// module id = 712\n// module chunks = 14"],"sourceRoot":""}